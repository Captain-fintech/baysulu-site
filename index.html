<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>BaySulu — Monthly Rentals UAE (XL+)</title>

  <!-- Fonts & Tailwind -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','system-ui','sans-serif'] },
          colors: { brand:'#16543C', sand:'#F7F5EF', ink:'#0B1F1A' }
        }
      }
    };
  </script>

  <style>
    .container-xx{max-width:1180px}
    .chip{padding:.25rem .6rem;border-radius:999px;font-size:.75rem}
    .badge{display:inline-block;padding:.4rem .6rem;border-radius:.6rem;font-size:.75rem}
    .nav-link{padding:.4rem .7rem;border-radius:.6rem}
    .nav-link.active{background:#16543C;color:#fff}
    .shadow-soft{box-shadow:0 6px 18px rgba(0,0,0,.06)}

    /* --- DARK MODE FIXES --- */
    .dark body{background:#0b1220;color:#e6e9ef}
    .dark .bg-sand{background:#0f172a}
    .dark .p-5,.dark .p-6,.dark .p-3{background:#0f172a!important}
    .dark .text-gray-600{color:#a7b0bd!important}
    .dark .text-gray-700{color:#c5cedb!important}
    .dark .text-brand{color:#4ad3a8!important}
    .dark .badge,.dark .chip{background:#1f2937!important;color:#e6e9ef!important}
    .dark .demo-banner{background:#172036!important;border-color:#263043!important;color:#e6e9ef!important}
    .dark .btn-light{background:#e6e9ef!important;color:#0f172a!important}
    .dark header img{filter:contrast(1.07) saturate(1.05)}
  </style>
</head>
<body class="bg-white text-ink">

<!-- SETTINGS -->
<script>
  const BRAND_NAME="BaySulu";
  const WHATSAPP_NUMBER="971500000000";
  const PLATFORM_FEE_TX="~4–5% platform fee (demo)";
  const AGENT_COMMISSION_TX="AED 1,200–2,000 per deal";
</script>

<!-- NAVBAR -->
<header class="sticky top-0 z-50 border-b bg-white/90 backdrop-blur">
  <div class="container-xx mx-auto px-4 py-3 flex items-center justify-between">
    <a href="/" class="flex items-center gap-2">
      <img src="./public/images/baysulu-logo.png" alt="BaySulu" style="height:28px;width:auto"/>
      <span class="font-extrabold text-lg text-brand">BaySulu</span>
    </a>
    <nav class="hidden md:flex items-center gap-2">
      <a href="#features" class="nav-link">Features</a>
      <a href="#how" class="nav-link">How it works</a>
      <a href="#listings" class="nav-link">Listings</a>
      <a href="#agents" class="nav-link">Agents</a>
      <a href="#pricing" class="nav-link">Pricing</a>
      <a href="#faq" class="nav-link">FAQ</a>
    </nav>
    <div class="flex items-center gap-2">
      <button id="themeToggle" class="px-2 py-1 border rounded">Dark</button>
    </div>
  </div>
</header>

<!-- DEMO BANNER -->
<div class="mx-auto container-xx px-4" style="margin-top:12px">
  <div class="demo-banner rounded-xl" style="background:#fffbe6;border:1px solid #ffe58f;padding:12px 16px;font:14px/1.45 system-ui,Segoe UI,Roboto,Arial;">
    <strong>Demo only:</strong> BaySulu — демонстрационная версия. Все платежи, календари и чаты имитированы (без бэкенда).
  </div>
</div>

<!-- HERO -->
<section class="relative overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-emerald-600 via-emerald-700 to-brand"></div>
  <div class="container-xx relative z-10 mx-auto px-4 py-16 md:py-20 grid md:grid-cols-2 gap-10 items-center text-white">
    <div>
      <div class="chip bg-white/20">Fintech · Rentals UAE</div>
      <h1 class="mt-4 text-4xl md:text-5xl font-extrabold leading-tight">
        Monthly rentals in Abu Dhabi & UAE
      </h1>
      <p class="mt-4 text-white/90 text-lg">
        Pay monthly instead of 4–6 cheques.
      </p>
      <div class="mt-6 flex flex-wrap gap-3">
        <a href="#listings" class="px-5 py-3 rounded-xl bg-white text-ink font-semibold shadow-soft btn-light">Browse listings</a>
        <a href="#how" class="px-5 py-3 rounded-xl ring-1 ring-white/70 text-white">How it works</a>
      </div>
    </div>
    <div class="rounded-3xl shadow-soft overflow-hidden">
      <img class="w-full h-[320px] object-cover" src="https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1600&auto=format&fit=crop" alt="Abu Dhabi">
    </div>
  </div>
</section>

<!-- TRUST -->
<section class="bg-sand">
  <div class="container-xx mx-auto px-4 py-6 flex flex-wrap items-center gap-4 text-sm text-gray-600">
    <span class="chip bg-white shadow-soft">YXZ · 3-D Secure</span>
    <span class="chip bg-white shadow-soft">XYZ · Deposit Insurance</span>
    <span class="chip bg-white shadow-soft">SSL/TLS</span>
    <span class="chip bg-white shadow-soft">PCI scope minimized</span>
    <span class="chip bg-white shadow-soft">ADGM Data Protection</span>
  </div>
</section>

<!-- FEATURES -->
<section id="features" class="container-xx mx-auto px-4 py-14">
  <h2 class="text-3xl font-extrabold">Why BaySulu</h2>
  <p class="text-gray-600 mt-2">Clear value for tenants, landlords, and agents.</p>
  <div class="grid md:grid-cols-3 gap-6 mt-8">
    <div class="p-5 border rounded-2xl shadow-soft"><div class="badge bg-brand/10 text-brand mb-3">Monthly plan</div><h3 class="font-semibold text-lg">Pay monthly instead of cheques</h3></div>
    <div class="p-5 border rounded-2xl shadow-soft"><div class="badge bg-brand/10 text-brand mb-3">Verified</div><h3 class="font-semibold text-lg">Verified listings & moderation</h3></div>
    <div class="p-5 border rounded-2xl shadow-soft"><div class="badge bg-brand/10 text-brand mb-3">Insurance</div><h3 class="font-semibold text-lg">Deposit insurance (optional)</h3></div>
  </div>
</section>
<!-- HOW IT WORKS -->
<section id="how" class="container-xx mx-auto px-4 py-14">
  <div style="max-width:520px;margin:24px auto;text-align:center">
    <video controls playsinline preload="metadata"
           src="./public/videos/baysulu_how_it_works_dual.mp4"
           style="width:100%;border-radius:16px;border:1px solid #e5e7eb"></video>
    <small style="display:block;color:#6b7280;margin-top:6px">
      Browse → Plan → Checkout → Chat → Move-in (demo)
    </small>
  </div>

  <h2 class="text-3xl font-extrabold mt-8">How it works</h2>
  <div class="grid md:grid-cols-4 gap-6 mt-8">
    <div class="p-5 border rounded-2xl shadow-soft"><div class="badge bg-brand text-white">1</div><h3 class="font-semibold mt-2">Browse & filter</h3></div>
    <div class="p-5 border rounded-2xl shadow-soft"><div class="badge bg-brand text-white">2</div><h3 class="font-semibold mt-2">Select monthly plan</h3></div>
    <div class="p-5 border rounded-2xl shadow-soft"><div class="badge bg-brand text-white">3</div><h3 class="font-semibold mt-2">Secure checkout</h3></div>
    <div class="p-5 border rounded-2xl shadow-soft"><div class="badge bg-brand text-white">4</div><h3 class="font-semibold mt-2">Move in</h3></div>
  </div>
</section>

<!-- LISTINGS -->
<section id="listings" class="container-xx mx-auto px-4 py-14">
  <div class="flex items-end justify-between">
    <div>
      <h2 class="text-3xl font-extrabold">Featured listings</h2>
      <p class="text-gray-600">Installments available</p>
    </div>
    <a href="#agents" class="hidden sm:inline px-4 py-2 rounded bg-brand text-white">Become an agent</a>
  </div>
  <div id="listings-grid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-8"></div>
</section>

<!-- PORTALS -->
<section id="portals" class="container-xx mx-auto px-4 py-14">
  <h2 class="text-3xl font-extrabold">Portals</h2>
  <div class="grid md:grid-cols-3 gap-6 mt-8">
    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold text-lg">Tenant</h3>
      <p class="text-gray-600 text-sm">Profile, payments history, reminders (demo).</p>
      <div class="mt-3 p-3 bg-sand rounded">John Doe · 1 active rental · AED 5 500/mo</div>
    </div>
    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold text-lg">Landlord</h3>
      <p class="text-gray-600 text-sm">Listings, payout schedule, insurance flag (demo).</p>
      <div class="mt-3 p-3 bg-sand rounded">2 listings · Platform fee: <span id="platform-fee"></span></div>
    </div>
    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold text-lg">Agent</h3>
      <p class="text-gray-600 text-sm">Add listings, track views & commissions (demo).</p>
      <div class="mt-3 p-3 bg-sand rounded">Est. per deal: <b id="agent-commission"></b></div>
    </div>
  </div>
</section>

<!-- FOR AGENTS -->
<section id="agents" class="bg-sand">
  <div class="container-xx mx-auto px-4 py-14 grid md:grid-cols-2 gap-10 items-center">
    <div>
      <h2 class="text-3xl font-extrabold">For Agents</h2>
      <p class="text-gray-700 mt-2">Close more deals, faster, and earn commissions.</p>
      <ul class="list-disc pl-6 mt-4 text-gray-800">
        <li>Commission: <b id="agent-commission-2">AED 1 200–2 000 per deal</b></li>
        <li>Agent dashboard + WhatsApp integration</li>
        <li>Training and support</li>
      </ul>
      <div class="mt-5 flex gap-3 flex-wrap">
        <a href="#agent-demo" class="px-4 py-2 bg-brand text-white rounded">Open agent demo</a>
        <a id="wa-link" href="https://wa.me/971500000000" target="_blank" class="px-4 py-2 border rounded">WhatsApp</a>
      </div>
    </div>
    <div class="p-5 bg-white rounded-2xl shadow-soft" id="agent-demo">
      <h3 class="font-semibold mb-2">Agent Quick Tour (video)</h3>
      <video controls playsinline preload="metadata"
             src="./public/videos/baysulu_agent_quick_tour_dual.mp4"
             style="width:100%;border-radius:12px"></video>
    </div>
  </div>
</section>

<!-- PRICING -->
<section id="pricing" class="container-xx mx-auto px-4 py-14">
  <h2 class="text-3xl font-extrabold">Pricing & Security</h2>
  <div class="grid md:grid-cols-2 gap-6 mt-8">
    <div class="p-6 border rounded-2xl shadow-soft">
      <h3 class="font-semibold text-lg">Fees (demo)</h3>
      <ul class="list-disc pl-6 text-gray-700 mt-2">
        <li>Platform fee: <span id="platform-fee-2"></span></li>
        <li>Tenants see monthly amount incl. fees</li>
        <li>Agents: per deal commission (see above)</li>
      </ul>
    </div>
    <div class="p-6 border rounded-2xl shadow-soft">
      <h3 class="font-semibold text-lg">Security & Compliance</h3>
      <ul class="list-disc pl-6 text-gray-700 mt-2">
        <li>SSL/TLS everywhere</li>
        <li>3-D Secure via YXZ, tokenization</li>
        <li>No card data stored on BaySulu</li>
        <li>ADGM data protection principles</li>
      </ul>
    </div>
  </div>
</section>

<!-- INSTALLMENT CALCULATOR -->
<section id="installments" class="container-xx mx-auto px-4 py-14">
  <h2 class="text-3xl font-extrabold">Installment calculator (demo)</h2>
  <div class="max-w-xl mt-4 p-5 border rounded-2xl shadow-soft">
    <label class="block">Annual Rent (AED)
      <input id="rent" type="number" min="0" step="100" value="60000" class="border p-2 rounded w-full mt-1">
    </label>
    <div class="grid grid-cols-2 gap-3 mt-3">
      <label>Months
        <select id="months" class="border p-2 rounded w-full mt-1"><option>12</option><option>9</option><option>6</option><option>3</option></select>
      </label>
      <label>Service fee (annual, %)
        <input id="fee" type="number" min="0" max="20" step="0.1" value="3.0" class="border p-2 rounded w-full mt-1">
      </label>
    </div>
    <button id="calcBtn" class="mt-3 px-4 py-2 bg-brand text-white rounded">Calculate</button>
    <div id="out" class="mt-3 p-3 bg-sand rounded"></div>
  </div>
</section>

<!-- VIEWINGS -->
<section id="viewings" class="container-xx mx-auto px-4 py-14">
  <h2 class="text-3xl font-extrabold">Schedule a viewing (demo)</h2>
  <p class="text-gray-600 mt-2">Book a viewing and notify the other party. Stored locally.</p>
  <form id="viewing-form" class="grid md:grid-cols-5 gap-3 mt-6">
    <input id="vw-name" class="border p-2 rounded" placeholder="Your name" required>
    <select id="vw-role" class="border p-2 rounded" required><option value="">Role</option><option>Tenant</option><option>Agent</option><option>Landlord</option></select>
    <input id="vw-date" type="date" class="border p-2 rounded" required>
    <input id="vw-time" type="time" class="border p-2 rounded" required>
    <button class="px-4 py-2 bg-brand text-white rounded">Add slot</button>
  </form>
  <div class="mt-6 flex items-center gap-3">
    <label class="text-sm">Filter:</label>
    <select id="vw-filter" class="border p-2 rounded"><option value="all">All</option><option value="Tenant">Tenant</option><option value="Agent">Agent</option><option value="Landlord">Landlord</option></select>
    <button id="vw-clear" class="px-3 py-2 border rounded">Clear all</button>
  </div>
  <div id="viewing-list" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mt-6"></div>
</section>
<!-- CHAT -->
<section id="chat" class="container-xx mx-auto px-4 py-14">
  <h2 class="text-3xl font-extrabold">Chat (demo)</h2>
  <p class="text-gray-600 mt-2">Lightweight in-page chat for coordination. Stored locally.</p>

  <div class="grid md:grid-cols-3 gap-6 mt-6">
    <div class="p-5 border rounded-2xl shadow-soft md:col-span-2">
      <div class="flex items-center gap-3">
        <select id="chat-room" class="border p-2 rounded">
          <option value="general">#general</option>
          <option value="agents">#agents</option>
          <option value="tenants">#tenants</option>
          <option value="landlords">#landlords</option>
        </select>
        <select id="chat-role" class="border p-2 rounded">
          <option>Tenant</option><option>Agent</option><option>Landlord</option>
        </select>
        <input id="chat-name" class="border p-2 rounded flex-1" placeholder="Your name (optional)">
      </div>

      <div id="chat-feed" class="mt-4 h-72 overflow-y-auto border rounded p-3 bg-white dark:bg-[#0f172a]"></div>

      <form id="chat-form" class="mt-3 flex gap-2">
        <input id="chat-input" class="border p-2 rounded flex-1" placeholder="Type a message…" required>
        <button class="px-4 py-2 bg-brand text-white rounded">Send</button>
      </form>
    </div>

    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold mb-2">Quick guidelines</h3>
      <ul class="list-disc pl-5 text-gray-700 text-sm">
        <li>Be clear about location & availability</li>
        <li>Share a preferred viewing time window</li>
        <li>Keep contact details private (demo UI only)</li>
      </ul>
    </div>
  </div>
</section>

<!-- FAQ -->
<section id="faq" class="container-xx mx-auto px-4 py-14">
  <h2 class="text-3xl font-extrabold">FAQ</h2>
  <div class="mt-6 grid md:grid-cols-2 gap-6">
    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold">Is this live with payments?</h3>
      <p class="text-gray-600 mt-2">This is a demo UI; payments flow (YXZ) is disabled here.</p>
    </div>
    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold">Do you support deposit insurance?</h3>
      <p class="text-gray-600 mt-2">Yes, via partner <b>XYZ</b> (as an option in checkout flow in full version).</p>
    </div>
    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold">Is KYC/AML required?</h3>
      <p class="text-gray-600 mt-2">For suspicious cases and by bank request. In MVP we keep minimal data.</p>
    </div>
    <div class="p-5 border rounded-2xl shadow-soft">
      <h3 class="font-semibold">Can agents add listings?</h3>
      <p class="text-gray-600 mt-2">Yes. See the Agent demo block above (saves locally for demo).</p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="bg-sand border-t">
  <div class="container-xx mx-auto px-4 py-10 grid md:grid-cols-4 gap-6">
    <div>
      <div class="flex items-center gap-2">
        <img src="./public/images/baysulu-logo.png" alt="BaySulu" style="height:20px;width:auto"/>
        <span id="brand-logo-foot" class="font-extrabold text-brand">BaySulu</span>
      </div>
      <p class="text-gray-600 mt-2 text-sm">Demo prototype. © 2025</p>
    </div>
    <div>
      <h4 class="font-semibold mb-2">Product</h4>
      <ul class="space-y-1 text-gray-700 text-sm">
        <li><a href="#features">Features</a></li>
        <li><a href="#how">How it works</a></li>
        <li><a href="#listings">Listings</a></li>
      </ul>
    </div>
    <div>
      <h4 class="font-semibold mb-2">Programs</h4>
      <ul class="space-y-1 text-gray-700 text-sm">
        <li><a href="#agents">Agents</a></li>
        <li><a href="#portals">Portals</a></li>
        <li><a href="#pricing">Pricing</a></li>
      </ul>
    </div>
    <div>
      <h4 class="font-semibold mb-2">Contact</h4>
      <ul class="space-y-1 text-gray-700 text-sm">
        <li><a id="wa-link-foot" target="_blank" rel="noreferrer">WhatsApp</a></li>
        <li><a href="#faq">FAQ</a></li>
      </ul>
    </div>
  </div>
</footer>

<!-- POPUP (Agent tour video) -->
<div id="agentTour" style="position:fixed;inset:0;background:rgba(0,0,0,.85);
     display:none;align-items:center;justify-content:center;z-index:99999;">
  <div id="agentTourDialog" style="background:#0f172a;border-radius:16px;padding:10px;max-width:520px;width:95%;
              box-shadow:0 10px 40px rgba(0,0,0,.5);text-align:center">
    <video controls playsinline preload="metadata"
           src="./public/videos/baysulu_agent_quick_tour_dual.mp4"
           style="width:100%;border-radius:12px"></video>
    <button id="closeTour"
            style="margin-top:12px;width:100%;padding:10px;border:0;border-radius:10px;
                   background:#059669;color:#fff;font-size:16px;">Close tour</button>
  </div>
</div>

<!-- LOGIC (i18n, state, listings, agent demo, viewings, chat, dark mode, calculator, popup) -->
<script>
/* --- i18n (EN/AR) --- */
const I18N={en:{nav_features:"Features",nav_how:"How it works",nav_listings:"Listings",nav_agents:"Agents",nav_pricing:"Pricing",nav_faq:"FAQ",nav_portals:"Portals",hero_h1:"Monthly rentals in Abu Dhabi & UAE",cta_primary:"Browse listings",cta_secondary:"How it works",features_h2:"Why BaySulu",features_p:"Clear value for tenants, landlords, and agents.",f1_badge:"Monthly plan",f1_h3:"Pay monthly instead of cheques",f1_p:"Auto-debit via YXZ; 3-D Secure for safety. No card data stored on BaySulu.",f2_badge:"Verified",f2_h3:"Verified listings & moderation",f2_p:"Manual review at MVP stage. Quality photos and clear terms.",f3_badge:"Insurance",f3_h3:"Deposit insurance (optional)",f3_p:"Add policy via partner XYZ; landlords hand over keys with confidence.",f4_badge:"Mobile-first",f4_h3:"Built for phone",f4_p:"Entire flow works on mobile: browse → book → (demo) pay later.",f5_badge:"Dashboards",f5_h3:"Tenant / Landlord / Agent portals",f5_p:"Each role sees relevant data and actions (demo preview below).",f6_badge:"Compliance",f6_h3:"Security & ADGM data protection",f6_p:"SSL/TLS, hashed passwords, tokenization via YXZ; Privacy/Terms on site.",how_h2:"How it works",how_1_h3:"Browse & filter",how_1_p:"Find flats/villas by area, price, furniture.",how_2_h3:"Select monthly plan",how_2_p:"See a transparent installment schedule.",how_3_h3:"Secure checkout (demo)",how_3_p:"3-D Secure via YXZ. (Payments disabled in demo.)",how_4_h3:"Move-in with confidence",how_4_p:"Optional deposit insurance via XYZ.",listings_h2:"Featured listings",listings_p:"Installments available",listings_cta:"Become an agent",portals_h2:"Portals",agents_h2:"For Agents",agents_p:"Close more deals, faster, and earn commissions.",agents_li1:"Commission: ",agents_li2:"Agent dashboard + WhatsApp integration",agents_li3:"Training and support",agent_demo_h3:"Add Listing (demo)",pricing_h2:"Pricing & Security",pricing_fee_h3:"Fees (demo)",pricing_fee_1:"Platform fee: ",pricing_fee_2:"Tenants see monthly amount incl. fees",pricing_fee_3:"Agents: per deal commission (see above)",sec_h3:"Security & Compliance",sec_1:"SSL/TLS everywhere",sec_2:"3-D Secure via YXZ, tokenization",sec_3:"No card data stored on BaySulu",sec_4:"ADGM data protection principles",btn_add:"Add",ph_address:"Address",ph_price:"Price (AED)",my_listings:"My listings",no_listings:"No listings yet"},ar:{nav_features:"المزايا",nav_how:"كيف يعمل",nav_listings:"العقارات",nav_agents:"للوكلاء",nav_pricing:"الأسعار",nav_faq:"الأسئلة الشائعة",nav_portals:"لوحات التحكم",hero_h1:"دفعات إيجار شهرية في أبوظبي والإمارات",cta_primary:"تصفح العقارات",cta_secondary:"كيف يعمل",features_h2:"لماذا باي سولو",features_p:"قيمة واضحة للمستأجرين والمالكين والوكلاء.",f1_badge:"خطة شهرية",f1_h3:"ادفع شهريًا بدل الشيكات",f1_p:"خصم تلقائي عبر YXZ؛ حماية 3-D Secure. لا نخزن بيانات البطاقات.",f2_badge:"موثّق",f2_h3:"عقارات موثّقة ومراجعة",f2_p:"مراجعة يدوية في مرحلة MVP. صور واضحة وشروط شفافة.",f3_badge:"تأمين",f3_h3:"تأمين الوديعة (اختياري)",f3_p:"إضافة بوليصة عبر الشريك XYZ؛ تسليم آمن للمفاتيح.",f4_badge:"للجوال أولًا",f4_h3:"مصمم للهاتف",f4_p:"التدفق كاملًا على الجوال: تصفح → حجز → (تجريبي) الدفع لاحقًا.",how_h2:"كيف يعمل",how_1_h3:"تصفح وفلترة",how_1_p:"ابحث حسب المنطقة/السعر/الأثاث.",how_2_h3:"اختر الخطة الشهرية",how_2_p:"جدول أقساط واضح.",how_3_h3:"دفع آمن (تجريبي)",how_3_p:"3-D Secure عبر YXZ (الدفع معطل هنا).",how_4_h3:"انتقل بثقة",how_4_p:"تأمين الوديعة اختياريًا عبر XYZ.",listings_h2:"عقارات مميزة",listings_p:"التقسيط متاح",listings_cta:"كن وكيلاً",portals_h2:"لوحات التحكم",agents_h2:"للوكلاء",agents_p:"أغلق المزيد من الصفقات بسرعة واحصل على عمولات.",agents_li1:"العمولة: ",agents_li2:"لوحة للوكيل + واتساب",agents_li3:"تدريب ودعم",agent_demo_h3:"إضافة عقار (تجريبي)",pricing_h2:"الأسعار والأمان",pricing_fee_h3:"الرسوم (تجريبي)",pricing_fee_1:"رسوم المنصة: ",pricing_fee_2:"المستأجر يرى المبلغ الشهري شامل الرسوم",pricing_fee_3:"عمولة الوكيل لكل صفقة",sec_h3:"الأمن والامتثال",sec_1:"SSL/TLS في كل مكان",sec_2:"3-D Secure عبر YXZ وتوكن",sec_3:"لا نخزن بيانات البطاقات",sec_4:"مبادئ حماية بيانات ADGM",btn_add:"إضافة",ph_address:"العنوان",ph_price:"السعر (درهم)",my_listings:"عقاراتي",no_listings:"لا توجد عقارات بعد"}};

/* --- demo data --- */
const LISTINGS_EN=[{title:"1BR — Al Reem Island",location:"Abu Dhabi",price:"AED 5,500/mo",img:"https://images.unsplash.com/photo-1501183638710-841dd1904471?q=80&w=1200&auto=format&fit=crop"},{title:"Studio — Al Raha Beach",location:"Abu Dhabi",price:"AED 3,800/mo",img:"https://images.unsplash.com/photo-1494526585095-c41746248156?q=80&w=1200&auto=format&fit=crop"},{title:"3BR — Khalifa City A",location:"Abu Dhabi",price:"AED 9,500/mo",img:"https://images.unsplash.com/photo-1459535653751-d571815e906b?q=80&w=1200&auto=format&fit=crop"}];

/* --- state --- */
const state={locale:localStorage.getItem('bs_locale')||'en',agent:JSON.parse(localStorage.getItem('bs_agent')||'[]'),viewings:JSON.parse(localStorage.getItem('bs_viewings')||'[]'),chat:JSON.parse(localStorage.getItem('bs_chat')||'{"general":[],"agents":[],"tenants":[],"landlords":[]}')};
const $=(s)=>document.querySelector(s); const $all=(s)=>Array.from(document.querySelectorAll(s));
const fmt=(n)=>new Intl.NumberFormat('en-AE',{maximumFractionDigits:2}).format(n);

/* --- brand & locale --- */
function applyBrand(){ $('#brand-logo-foot')&&($('#brand-logo-foot').textContent='BaySulu'); $('#platform-fee')&&($('#platform-fee').textContent='~4–5% platform fee (demo)'); $('#platform-fee-2')&&($('#platform-fee-2').textContent='~4–5% platform fee (demo)'); $('#agent-commission')&&($('#agent-commission').textContent='AED 1,200–2,000 per deal'); $('#agent-commission-2')&&($('#agent-commission-2').textContent='AED 1,200–2,000 per deal'); $('#wa-link')&&($('#wa-link').href=`https://wa.me/971500000000?text=${encodeURIComponent('Hi BaySulu! I want to join as an Agent.')}`); $('#wa-link-foot')&&($('#wa-link-foot').href=`https://wa.me/971500000000?text=${encodeURIComponent('Hi BaySulu! I want to learn more.')}`); }
function setLocale(loc){ state.locale=loc; localStorage.setItem('bs_locale',loc); document.documentElement.lang=loc; document.documentElement.dir=(loc==='ar'?'rtl':'ltr'); const d=I18N[loc]; $all('[data-i18n]').forEach(el=>{const k=el.getAttribute('data-i18n'); if(d[k]) el.textContent=d[k];}); $all('[data-i18n-placeholder]').forEach(el=>{const k=el.getAttribute('data-i18n-placeholder'); if(d[k]) el.setAttribute('placeholder',d[k]);}); $('#tagline')&&($('#tagline').textContent=(loc==='ar'?'ادفع شهريًا بدلًا من 4–6 شيكات.':'Pay monthly instead of 4–6 cheques.')); $('#lang-en').classList.toggle('font-bold',loc==='en'); $('#lang-ar').classList.toggle('font-bold',loc==='ar'); renderListings(); }

/* --- listings --- */
function renderListings(){ const grid=$('#listings-grid'); if(!grid) return; grid.innerHTML=LISTINGS_EN.map(it=>`<div class="border rounded-2xl overflow-hidden shadow-soft bg-white"><img src="${it.img}" alt="${it.title}" class="w-full h-40 object-cover"><div class="p-4"><div class="chip bg-brand/10 text-brand mb-2">${(state.locale==='ar'?'التقسيط متاح':'Installments available')}</div><h3 class="font-semibold">${it.title}</h3><p class="text-gray-600">${it.location}</p><p class="text-brand font-bold">${it.price}</p></div></div>`).join(''); }

/* --- agent demo --- */
function renderAgent(){ const wrap=$('#agent-cards'),empty=$('#agent-empty'); if(!wrap) return; const items=state.agent; empty.classList.toggle('hidden',items.length>0); wrap.innerHTML=items.map(x=>`<div class="border rounded-xl p-3"><div class="text-sm text-gray-500">${x.address}</div><div class="font-semibold">AED ${Number(x.price).toLocaleString()}</div><div class="text-xs text-gray-500 mt-1">Added by agent</div></div>`).join(''); }
function onAgentSubmit(e){ e.preventDefault(); const a=$('#f-address').value.trim(), p=$('#f-price').value.trim(); if(!a||!p) return; state.agent.unshift({address:a, price:p, ts:Date.now()}); localStorage.setItem('bs_agent',JSON.stringify(state.agent)); $('#f-address').value=''; $('#f-price').value=''; renderAgent(); }

/* --- viewings --- */
function renderViewings(){ const list=$('#viewing-list'); if(!list) return; const filter=$('#vw-filter').value; const arr=state.viewings.filter(v=>filter==='all'?true:v.role===filter); if(!arr.length){list.innerHTML='<div class="text-gray-500">No viewings yet</div>'; return;} list.innerHTML=arr.map((v,i)=>`<div class="border rounded-2xl p-4 shadow-soft bg-white"><div class="font-semibold">${v.name} <span class="text-xs text-gray-500">(${v.role})</span></div><div class="text-gray-600 mt-1">${v.date} · ${v.time}</div><div class="mt-2 flex gap-2"><button data-i="${i}" class="vw-del px-3 py-1 border rounded text-sm">Delete</button><a class="px-3 py-1 border rounded text-sm" href="https://wa.me/971500000000?text=${encodeURIComponent('Hi! I scheduled a viewing on '+v.date+' '+v.time)}" target="_blank" rel="noreferrer">WhatsApp</a></div></div>`).join(''); $all('.vw-del').forEach(btn=>{btn.onclick=()=>{ const i=+btn.getAttribute('data-i'); state.viewings.splice(i,1); localStorage.setItem('bs_viewings',JSON.stringify(state.viewings)); renderViewings(); };}); }
function onViewingSubmit(e){ e.preventDefault(); const n=$('#vw-name').value.trim(), r=$('#vw-role').value, d=$('#vw-date').value, t=$('#vw-time').value; if(!n||!r||!d||!t) return; state.viewings.unshift({name:n, role:r, date:d, time:t, ts:Date.now()}); localStorage.setItem('bs_viewings',JSON.stringify(state.viewings)); e.target.reset(); renderViewings(); }

/* --- chat --- */
function renderChat(){ const room=$('#chat-room').value, feed=$('#chat-feed'); if(!feed) return; const items=state.chat[room]||[]; feed.innerHTML=items.map(m=>`<div class="mb-2"><span class="px-2 py-0.5 rounded bg-brand/10 text-brand text-xs">${m.role}${m.name?(' · '+m.name):''}</span><div class="mt-1">${m.text}</div><div class="text-xs text-gray-500">${new Date(m.ts).toLocaleString()}</div></div>`).join(''); feed.scrollTop=feed.scrollHeight; }
function onChatSubmit(e){ e.preventDefault(); const room=$('#chat-room').value, role=$('#chat-role').value, name=$('#chat-name').value.trim(), text=$('#chat-input').value.trim(); if(!text) return; state.chat[room]=state.chat[room]||[]; state.chat[room].push({role,name,text,ts:Date.now()}); localStorage.setItem('bs_chat',JSON.stringify(state.chat)); $('#chat-input').value=''; renderChat(); }

/* --- theme toggle --- */
(function(){ const root=document.documentElement; const saved=localStorage.getItem('bs_theme'); if(saved==='dark'){root.classList.add('dark')} const btn=document.getElementById('themeToggle'); function label(){btn.textContent=root.classList.contains('dark')?'Light':'Dark'} btn.onclick=()=>{ root.classList.toggle('dark'); localStorage.setItem('bs_theme', root.classList.contains('dark')?'dark':'light'); label(); }; label(); })();

/* --- calculator --- */
function calc(){ const rent=+document.getElementById('rent').value||0, m=+document.getElementById('months').value||12, feePct=(+document.getElementById('fee').value||0)/100; const fee=rent*feePct, total=rent+fee, monthly=total/m; document.getElementById('out').innerHTML=`<b>Monthly (approx): AED ${fmt(monthly)}</b><br>Tenant pays total ~ AED ${fmt(total)} (${fmt(rent)} rent + AED ${fmt(fee)} service).<br><small>Demo only. Rates/fees are illustrative.</small>`; }

/* --- nav & events --- */
document.addEventListener('click',e=>{const n=e.target.closest('.nav-link'); if(n){$all('.nav-link').forEach(x=>x.classList.remove('active')); n.classList.add('active');}});
document.getElementById('themeToggle').addEventListener('click',()=>{});
document.getElementById('viewing-form').addEventListener('submit',onViewingSubmit);
document.getElementById('vw-filter').addEventListener('change',renderViewings);
document.getElementById('vw-clear').addEventListener('click',()=>{ if(confirm('Clear all viewings?')){ state.viewings=[]; localStorage.setItem('bs_viewings','[]'); renderViewings(); }});
document.getElementById('chat-form').addEventListener('submit',onChatSubmit);
document.getElementById('chat-room').addEventListener('change',renderChat);

/* --- init --- */
(function init(){ 
  applyBrand(); 
  setLocale(state.locale); 
  renderListings(); 
  renderAgent(); 
  renderViewings(); 
  renderChat(); 
  const f=document.getElementById('agent-form'); if(f) f.addEventListener('submit',onAgentSubmit);
  const c=document.getElementById('calcBtn'); if(c) c.addEventListener('click',calc);
})();
</script>

<!-- FLOATING WHATSAPP -->
<a id="wa-fab"
   href="https://wa.me/971500000000?text=Hi%20BaySulu!%20I%20want%20to%20learn%20more%20and%20schedule%20a%20viewing."
   target="_blank" rel="noopener" aria-label="WhatsApp"
   style="position:fixed;right:16px;bottom:16px;width:56px;height:56px;border-radius:50%;
          display:flex;align-items:center;justify-content:center;background:#25D366;color:#fff;
          text-decoration:none;box-shadow:0 6px 18px rgba(0,0,0,.18);font:16px/1 Arial;z-index:99999">WA</a>
